{"version":3,"sources":["./node_modules/@ionic/core/dist/esm/button-active-4927a4c1.js","./node_modules/@ionic/core/dist/esm/framework-delegate-4392cd63.js","./node_modules/@ionic/core/dist/esm/haptic-27b3f981.js","./node_modules/@ionic/core/dist/esm/spinner-configs-cd7845af.js","./node_modules/@ionic/core/dist/esm/theme-ff3fc52f.js","./src/app/bookings/booking.model.ts","./src/app/bookings/bookings.service.ts","./src/app/places/place.model.ts","./src/app/places/places.service.ts","./src/app/shared/map-modal/map-modal.component.ts","./src/app/shared/map-modal/map-modal.component.scss","./src/app/shared/map-modal/map-modal.component.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAqD;AACkE;AACnE;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iEAAa;AACtB;AACA;AACA;AACA,mEAAmE,kDAAoB;AACvF,kEAAkE,kDAAsB;AACxF;AACA;AACA,MAAM,sDAAkB;AACxB;AACA;AACA,GAAG;AACH;;AAE0C;;;;;;;;;;;;;;;;;;AC/DoB;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,uDAAgB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEsD;;;;;;;;;;;;;;;;;;;;ACjCtD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC,GAAG;AACH;AACA,iBAAiB,iBAAiB;AAClC,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,iBAAiB;AACpD;AACA;AACA;AACA;;AAEoI;;;;;;;;;;;;;;;;ACzGpI;AACA;AACA;AACA;AACA;AACA,gCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA,oBAAoB,oBAAoB;AACxC,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA,oBAAoB,oBAAoB;AACxC,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,kCAAkC,sCAAsC;AACxE,gCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,kCAAkC,sCAAsC;AACxE,gCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEyB;;;;;;;;;;;;;;;;;;;AC7GzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,kCAAkC,MAAM,UAAU;AAC5H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEqF;;;;;;;;;;;;;;;;ACtC9E,MAAM,OAAO;IAClB,YACS,EAAU,EACV,OAAe,EACf,MAAc,EACd,UAAkB,EAClB,UAAkB,EAClB,SAAiB,EACjB,QAAgB,EAChB,WAAmB,EACnB,UAAgB,EAC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","file":"common.js","sourcesContent":["import { c as writeTask } from './index-7a8b7a1c.js';\nimport { h as hapticSelectionEnd, a as hapticSelectionStart, b as hapticSelectionChanged } from './haptic-27b3f981.js';\nimport { createGesture } from './index-f49d994d.js';\n\nconst createButtonActiveGesture = (el, isButton) => {\n  let currentTouchedButton;\n  let initialTouchedButton;\n  const activateButtonAtPoint = (x, y, hapticFeedbackFn) => {\n    if (typeof document === 'undefined') {\n      return;\n    }\n    const target = document.elementFromPoint(x, y);\n    if (!target || !isButton(target)) {\n      clearActiveButton();\n      return;\n    }\n    if (target !== currentTouchedButton) {\n      clearActiveButton();\n      setActiveButton(target, hapticFeedbackFn);\n    }\n  };\n  const setActiveButton = (button, hapticFeedbackFn) => {\n    currentTouchedButton = button;\n    if (!initialTouchedButton) {\n      initialTouchedButton = currentTouchedButton;\n    }\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.add('ion-activated'));\n    hapticFeedbackFn();\n  };\n  const clearActiveButton = (dispatchClick = false) => {\n    if (!currentTouchedButton) {\n      return;\n    }\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.remove('ion-activated'));\n    /**\n     * Clicking on one button, but releasing on another button\n     * does not dispatch a click event in browsers, so we\n     * need to do it manually here. Some browsers will\n     * dispatch a click if clicking on one button, dragging over\n     * another button, and releasing on the original button. In that\n     * case, we need to make sure we do not cause a double click there.\n     */\n    if (dispatchClick && initialTouchedButton !== currentTouchedButton) {\n      currentTouchedButton.click();\n    }\n    currentTouchedButton = undefined;\n  };\n  return createGesture({\n    el,\n    gestureName: 'buttonActiveDrag',\n    threshold: 0,\n    onStart: ev => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionStart),\n    onMove: ev => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionChanged),\n    onEnd: () => {\n      clearActiveButton(true);\n      hapticSelectionEnd();\n      initialTouchedButton = undefined;\n    }\n  });\n};\n\nexport { createButtonActiveGesture as c };\n","import { c as componentOnReady } from './helpers-dd7e4b7b.js';\n\nconst attachComponent = async (delegate, container, component, cssClasses, componentProps) => {\n  if (delegate) {\n    return delegate.attachViewToDom(container, component, componentProps, cssClasses);\n  }\n  if (typeof component !== 'string' && !(component instanceof HTMLElement)) {\n    throw new Error('framework delegate is missing');\n  }\n  const el = (typeof component === 'string')\n    ? container.ownerDocument && container.ownerDocument.createElement(component)\n    : component;\n  if (cssClasses) {\n    cssClasses.forEach(c => el.classList.add(c));\n  }\n  if (componentProps) {\n    Object.assign(el, componentProps);\n  }\n  container.appendChild(el);\n  await new Promise(resolve => componentOnReady(el, resolve));\n  return el;\n};\nconst detachComponent = (delegate, element) => {\n  if (element) {\n    if (delegate) {\n      const container = element.parentElement;\n      return delegate.removeViewFromDom(container, element);\n    }\n    element.remove();\n  }\n  return Promise.resolve();\n};\n\nexport { attachComponent as a, detachComponent as d };\n","const HapticEngine = {\n  getEngine() {\n    const win = window;\n    return (win.TapticEngine) || (win.Capacitor && win.Capacitor.isPluginAvailable('Haptics') && win.Capacitor.Plugins.Haptics);\n  },\n  available() {\n    return !!this.getEngine();\n  },\n  isCordova() {\n    return !!window.TapticEngine;\n  },\n  isCapacitor() {\n    const win = window;\n    return !!win.Capacitor;\n  },\n  impact(options) {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    const style = this.isCapacitor() ? options.style.toUpperCase() : options.style;\n    engine.impact({ style });\n  },\n  notification(options) {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    const style = this.isCapacitor() ? options.style.toUpperCase() : options.style;\n    engine.notification({ style });\n  },\n  selection() {\n    this.impact({ style: 'light' });\n  },\n  selectionStart() {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    if (this.isCapacitor()) {\n      engine.selectionStart();\n    }\n    else {\n      engine.gestureSelectionStart();\n    }\n  },\n  selectionChanged() {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    if (this.isCapacitor()) {\n      engine.selectionChanged();\n    }\n    else {\n      engine.gestureSelectionChanged();\n    }\n  },\n  selectionEnd() {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    if (this.isCapacitor()) {\n      engine.selectionEnd();\n    }\n    else {\n      engine.gestureSelectionEnd();\n    }\n  }\n};\n/**\n * Trigger a selection changed haptic event. Good for one-time events\n * (not for gestures)\n */\nconst hapticSelection = () => {\n  HapticEngine.selection();\n};\n/**\n * Tell the haptic engine that a gesture for a selection change is starting.\n */\nconst hapticSelectionStart = () => {\n  HapticEngine.selectionStart();\n};\n/**\n * Tell the haptic engine that a selection changed during a gesture.\n */\nconst hapticSelectionChanged = () => {\n  HapticEngine.selectionChanged();\n};\n/**\n * Tell the haptic engine we are done with a gesture. This needs to be\n * called lest resources are not properly recycled.\n */\nconst hapticSelectionEnd = () => {\n  HapticEngine.selectionEnd();\n};\n/**\n * Use this to indicate success/failure/warning to the user.\n * options should be of the type `{ style: 'light' }` (or `medium`/`heavy`)\n */\nconst hapticImpact = (options) => {\n  HapticEngine.impact(options);\n};\n\nexport { hapticSelectionStart as a, hapticSelectionChanged as b, hapticSelection as c, hapticImpact as d, hapticSelectionEnd as h };\n","const spinners = {\n  'bubbles': {\n    dur: 1000,\n    circles: 9,\n    fn: (dur, index, total) => {\n      const animationDelay = `${(dur * index / total) - dur}ms`;\n      const angle = 2 * Math.PI * index / total;\n      return {\n        r: 5,\n        style: {\n          'top': `${9 * Math.sin(angle)}px`,\n          'left': `${9 * Math.cos(angle)}px`,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  },\n  'circles': {\n    dur: 1000,\n    circles: 8,\n    fn: (dur, index, total) => {\n      const step = index / total;\n      const animationDelay = `${(dur * step) - dur}ms`;\n      const angle = 2 * Math.PI * step;\n      return {\n        r: 5,\n        style: {\n          'top': `${9 * Math.sin(angle)}px`,\n          'left': `${9 * Math.cos(angle)}px`,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  },\n  'circular': {\n    dur: 1400,\n    elmDuration: true,\n    circles: 1,\n    fn: () => {\n      return {\n        r: 20,\n        cx: 48,\n        cy: 48,\n        fill: 'none',\n        viewBox: '24 24 48 48',\n        transform: 'translate(0,0)',\n        style: {}\n      };\n    }\n  },\n  'crescent': {\n    dur: 750,\n    circles: 1,\n    fn: () => {\n      return {\n        r: 26,\n        style: {}\n      };\n    }\n  },\n  'dots': {\n    dur: 750,\n    circles: 3,\n    fn: (_, index) => {\n      const animationDelay = -(110 * index) + 'ms';\n      return {\n        r: 6,\n        style: {\n          'left': `${9 - (9 * index)}px`,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  },\n  'lines': {\n    dur: 1000,\n    lines: 12,\n    fn: (dur, index, total) => {\n      const transform = `rotate(${30 * index + (index < 6 ? 180 : -180)}deg)`;\n      const animationDelay = `${(dur * index / total) - dur}ms`;\n      return {\n        y1: 17,\n        y2: 29,\n        style: {\n          'transform': transform,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  },\n  'lines-small': {\n    dur: 1000,\n    lines: 12,\n    fn: (dur, index, total) => {\n      const transform = `rotate(${30 * index + (index < 6 ? 180 : -180)}deg)`;\n      const animationDelay = `${(dur * index / total) - dur}ms`;\n      return {\n        y1: 12,\n        y2: 20,\n        style: {\n          'transform': transform,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  }\n};\nconst SPINNERS = spinners;\n\nexport { SPINNERS as S };\n","const hostContext = (selector, el) => {\n  return el.closest(selector) !== null;\n};\n/**\n * Create the mode and color classes for the component based on the classes passed in\n */\nconst createColorClasses = (color, cssClassMap) => {\n  return (typeof color === 'string' && color.length > 0) ? Object.assign({ 'ion-color': true, [`ion-color-${color}`]: true }, cssClassMap) : cssClassMap;\n};\nconst getClassList = (classes) => {\n  if (classes !== undefined) {\n    const array = Array.isArray(classes) ? classes : classes.split(' ');\n    return array\n      .filter(c => c != null)\n      .map(c => c.trim())\n      .filter(c => c !== '');\n  }\n  return [];\n};\nconst getClassMap = (classes) => {\n  const map = {};\n  getClassList(classes).forEach(c => map[c] = true);\n  return map;\n};\nconst SCHEME = /^[a-z][a-z0-9+\\-.]*:/;\nconst openURL = async (url, ev, direction, animation) => {\n  if (url != null && url[0] !== '#' && !SCHEME.test(url)) {\n    const router = document.querySelector('ion-router');\n    if (router) {\n      if (ev != null) {\n        ev.preventDefault();\n      }\n      return router.push(url, direction, animation);\n    }\n  }\n  return false;\n};\n\nexport { createColorClasses as c, getClassMap as g, hostContext as h, openURL as o };\n","export class Booking {\n  constructor(\n    public id: string,\n    public placeId: string,\n    public userId: string,\n    public placeTitle: string,\n    public placeImage: string,\n    public firstName: string,\n    public lastName: string,\n    public guestNumber: number,\n    public bookedFrom: Date,\n    public bookedTo: Date\n    ){}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Booking } from './booking.model';\nimport { BehaviorSubject } from 'rxjs';\nimport { AuthService } from '../auth/auth.service';\nimport { take, map, tap, delay, switchMap } from 'rxjs/operators';\nimport { HttpClient } from '@angular/common/http';\n\ninterface BookingData {\n  bookedFrom: string;\n  bookedTo: string;\n  firstName: string;\n  guestNumber: number;\n  lastName: string;\n  placeId: string;\n  placeImage: string;\n  placeTitle: string;\n  userId: string;\n}\n\n@Injectable({providedIn: 'root'})\nexport class BookingsService {\n  private theBookings = new BehaviorSubject<Booking[]>([]);\n\n  get bookings() {\n    return this.theBookings.asObservable();\n  }\n\n  constructor(\n    private authService: AuthService,\n    private http: HttpClient){}\n\n  addBooking(\n    placeId: string,\n    placeTitle: string,\n    placeImage: string,\n    firstName: string,\n    lastName: string,\n    guestNumber: number,\n    dateFrom: Date,\n    dateTo: Date) {\n      console.log('test');\n      let generatedId: string;\n      const newBooking = new Booking(\n        Math.random().toString(),\n        placeId,\n        this.authService.userId,\n        placeTitle,\n        placeImage,\n        firstName,\n        lastName,\n        guestNumber,\n        dateFrom,\n        dateTo\n      );\n      return this.http.post<{name: string}>('https://retoe-1-default-rtdb.europe-west1.firebasedatabase.app/bookings.json',\n        {...newBooking, id: null}\n        ).pipe(switchMap(resData => {\n          generatedId = resData.name;\n          return this.bookings;\n        }),\n        take(1),\n        tap(bookings => {\n          newBooking.id = generatedId;\n            this.theBookings.next(bookings.concat(newBooking));\n          })\n        );\n\n/*\n      console.log(newBooking);\n      return this.bookings.pipe(\n        take(1),\n        delay(1000),\n        tap(bookings=> {\n          this.theBookings.next(bookings.concat(newBooking));\n        })\n      );\n      */\n  }\n\n  cancelBooking(bookingId: string) {\n//todo\n    return this.http.delete(\n      `https://retoe-1-default-rtdb.europe-west1.firebasedatabase.app/bookings/${bookingId}.json?`\n    ).pipe(switchMap( () => this.bookings),\n      take(1),\n      tap( bookings => this.theBookings.next(bookings.filter(b => b.id !== bookingId)))\n    );\n  }\n\n  fetchBookings(){\n    return this.http.get<{[key: string]: BookingData }>(\n    `https://retoe-1-default-rtdb.europe-west1.firebasedatabase.app/bookings.json?orderBy=\"userId\"&equalTo=\"${this.authService.userId}\"`\n    )\n    .pipe(map(bookingData => {\n      const bookings = [];\n      for(const key in bookingData) {\n        if (bookingData.hasOwnProperty(key)){\n          bookings.push(new Booking(\n            key,\n            bookingData[key].placeId,\n            bookingData[key].userId,\n            bookingData[key].placeTitle,\n            bookingData[key].placeImage,\n            bookingData[key].firstName,\n            bookingData[key].lastName,\n            bookingData[key].guestNumber,\n            new Date(bookingData[key].bookedFrom),\n            new Date(bookingData[key].bookedTo)\n            ));\n        }\n      }\n      return bookings;\n    }),\n    tap(bookings => {\n      this.theBookings.next(bookings);\n    }));\n  }\n}\n","import { PlaceLocation } from './location.model';\n\nexport class Place {\n  constructor(\n    public id: string,\n    public title: string,\n    public description: string,\n    public imageUrl: string,\n    public price: number,\n    public availableFrom: Date,\n    public availableTo: Date,\n    public userId: string,\n    public location: PlaceLocation\n  ) {}\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, of } from 'rxjs';\nimport { take, map, tap, delay, switchMap } from 'rxjs/operators';\n\nimport { Place } from './place.model';\nimport { AuthService } from '../auth/auth.service';\nimport { HttpClient } from '@angular/common/http';\nimport { PlaceLocation } from './location.model';\n\n/*\n[\n    new Place\n    (\n      'p1',\n      'Manhatten Mansion',\n      'In the hart of New York City',\n      'https://upload.wikimedia.org/wikipedia/commons/6/6d/Good_Food_Display_-_NCI_Visuals_Online.jpg',\n      149.99,\n      new Date('2020-01-01'),\n      new Date('2020-12-31'),\n      'xyz'\n    ),\n    new Place\n    (\n      'p2',\n      'Cool House',\n      'In the middle of Amsterdam',\n      'https://upload.wikimedia.org/wikipedia/commons/6/6d/Good_Food_Display_-_NCI_Visuals_Online.jpg',\n      999.99,\n      new Date('2021-01-01'),\n      new Date('2021-12-31'),\n      'abc'\n    ),\n    new Place\n    (\n      'p3',\n      'The Foggy Palace',\n      'Not your avarage city trip!',\n      'https://upload.wikimedia.org/wikipedia/commons/6/6d/Good_Food_Display_-_NCI_Visuals_Online.jpg',\n      55.55,\n      new Date('2019-01-01'),\n      new Date('2019-12-31'),\n      'abc'\n    )\n  ]\n*/\n\n\n\n\n\n\ninterface PlaceData {\n  availableFrom: string;\n  availableTo: string;\n  description: string;\n  imageUrl: string;\n  price: number;\n  title: string;\n  userId: string;\n  location: PlaceLocation;\n}\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlacesService {\n\n  private thePlaces = new BehaviorSubject<Place[]>([]);\n\n  get places() {\n    return this.thePlaces.asObservable();\n  }\n\n  constructor(\n    private authservice: AuthService,\n    private http: HttpClient\n  ) { }\n  fetchPlaces() {\n    return this.http\n    .get<{[key: string]: PlaceData}>(\n      'https://retoe-1-default-rtdb.europe-west1.firebasedatabase.app/offered-places.json'\n    )\n    .pipe(map(resData => {\n      const places = [];\n      for(const key in resData) {\n        if(resData.hasOwnProperty(key)){\n          places.push(\n            new Place(\n              key,\n              resData[key].title,\n              resData[key].description,\n              resData[key].imageUrl,\n              resData[key].price,\n              new Date(resData[key].availableFrom),\n              new Date(resData[key].availableTo),\n              resData[key].userId,\n              resData[key].location\n            )\n          );\n        }\n      }\n      return places;\n      //return [];\n    }),\n    tap(places => {\n      this.thePlaces.next(places);\n    })\n    );\n  }\n\n  getPlace(id: string) {\n    return this.http.get<PlaceData>(`https://retoe-1-default-rtdb.europe-west1.firebasedatabase.app/offered-places/${id}.json`)\n    .pipe(\n      map(placeData =>\n        new Place(\n          id,\n          placeData.title,\n          placeData.description,\n          placeData.imageUrl,\n          placeData.price,\n          new Date (placeData.availableFrom),\n          new Date (placeData.availableTo),\n          placeData.userId,\n          placeData.location\n        )\n      )\n    );\n  }\n/*\n    this.places.pipe(\n      take(1),\n      map(places => Object.assign({},places.find(p => p.id === id)))\n    );\n    //map( (places: any) => [...places.find(p => p.id === id)])\n  }\n*/\n  addPlace(\n    title: string,\n    description: string,\n    price: number,\n    dateFrom: Date,\n    dateTo: Date,\n    location: PlaceLocation\n  ){\n    let generatedId: string;\n    const newPlace = new Place(\n      Math.random().toString(),\n      title,\n      description,\n      'https://upload.wikimedia.org/wikipedia/commons/6/6d/Good_Food_Display_-_NCI_Visuals_Online.jpg',\n      price,\n      dateFrom,\n      dateTo,\n      this.authservice.userId,\n      location\n    );\n    return this.http\n    .post<{name: string}>('https://retoe-1-default-rtdb.europe-west1.firebasedatabase.app/offered-places.json', {\n      ...newPlace,\n      id: null\n    })\n\n    .pipe(\n      switchMap(resData => {\n        generatedId = resData.name;\n        return this.places;\n      }),\n      take(1),\n      tap( places => {\n        newPlace.id = generatedId;\n        this.thePlaces.next(places.concat(newPlace));\n      })\n    );\n    // return this.places\n    // .pipe(take(1),\n    //   delay(1000),\n\n    // );\n    // console.log(this.thePlaces);\n  }\n\n  updatePlace(\n    placeId: string,\n    title: string,\n    description: string)\n    {\n      let updatedPlaces: Place [];\n      return this.places.pipe(\n        take(1),\n        switchMap(places => {\n          if(!places || places.length <= 0){\n            return this.fetchPlaces();\n          } else {\n            return of(places);\n          }\n        }),\n        switchMap(places => {\n          const updatedPlaceIndex = places.findIndex(pl => pl.id === placeId);\n          updatedPlaces = [...places];\n          const oldPlace = updatedPlaces[updatedPlaceIndex];\n          updatedPlaces[updatedPlaceIndex] = new Place(\n            oldPlace.id,\n            title,\n            description,\n            oldPlace.imageUrl,\n            oldPlace.price,\n            oldPlace.availableFrom,\n            oldPlace.availableTo,\n            oldPlace.userId,\n            oldPlace.location\n          );\n          return this.http.put(`https://retoe-1-default-rtdb.europe-west1.firebasedatabase.app/offered-places/${placeId}.json`,\n            {...updatedPlaces[updatedPlaceIndex], id: null}\n          );\n        }),\n        tap( () => {\n          this.thePlaces.next(updatedPlaces);\n        })\n      );\n    }\n}\n/*\n\n      )\n      return this.places.pipe(\n        take(1),\n        delay(1000),\n        tap (places => {\n        const updatedPlaceIndex = places.findIndex(pl => pl.id === placeId);\n        const updatedPlaces = [...places];\n        const oldPlace = updatedPlaces[updatedPlaceIndex];\n        updatedPlaces[updatedPlaceIndex] = new Place(\n          oldPlace.id,\n          title,\n          description,\n          oldPlace.imageUrl,\n          oldPlace.price,\n          oldPlace.availableFrom,\n          oldPlace.availableTo,\n          oldPlace.userId\n        );\n\n      }));\n  }\n}\n*/\n","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef, Renderer2, OnDestroy, Input } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\n\nimport { environment } from '../../../environments/environment';\n\n@Component({\n  selector: 'app-map-modal',\n  templateUrl: './map-modal.component.html',\n  styleUrls: ['./map-modal.component.scss'],\n})\nexport class MapModalComponent implements OnInit, AfterViewInit, OnDestroy{\n\n  @ViewChild('map') mapElementRef: ElementRef;\n  @Input() center = { lat: -34.397, lng: 150.644 };\n  @Input() selectable = true;\n  @Input() closeButtonText = 'Cancel';\n  @Input() title = 'Pick Location';\n  clickListener: any;\n  googleMaps: any;\n\n  constructor(private modalCtrl: ModalController, private renderer: Renderer2) { }\n\n\n  ngOnInit() {\n    //this.modalCtrl.dismiss();\n  }\n\n  ngAfterViewInit() {\n    console.log('test 5');\n\n    this.getGoogleMaps().then(googleMaps => {\n      this.googleMaps = googleMaps;\n      const mapEl = this.mapElementRef.nativeElement;\n      const map = new googleMaps.Map(mapEl, {\n        center: this.center,\n        zoom: 16\n      });\n\n\n      this.googleMaps.event.addListenerOnce(map, 'idle', () => {\n        this.renderer.addClass(mapEl, 'visible');\n      });\n      if (this.selectable) {\n        this.clickListener = map.addListener('click', event => {\n          const selectedCoords = {\n            lat: event.latLng.lat(),\n            lng: event.latLng.lng()\n          };\n          this.modalCtrl.dismiss(selectedCoords);\n        });\n      } else {\n        const marker = new googleMaps.marker({\n          position: this.center,\n          map,\n          title: 'Picked Location'\n        });\n        marker.setMap(map);\n      }\n    })\n    .catch(err => {\n      console.log(err);\n      console.log('test 6');\n      console.log(err);\n      console.error('test');\n\n    });\n  }\n\n  onCancel(){\n    this.modalCtrl.dismiss();\n  }\n\n  ngOnDestroy(){\n    if(this.clickListener) {\n    this.googleMaps.event.removeListener(this.clickListener);\n    }\n  }\n\n  private getGoogleMaps(): Promise<any>  {\n    const win = window as any;\n    const googleModule = win.google;\n    console.log('test 4');\n    if(googleModule && googleModule.maps){\n      console.log('test 3');\n      return Promise.resolve(googleModule.maps);\n    }\n    console.log('test 7');\n    return new Promise((resolve, reject) => {\n      const script = document.createElement('script');\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${environment.googleMapsAPIKey}`;\n      script.async = true;\n      script.defer = true;\n      document.body.appendChild(script); // append child not more than 1 element child\n      console.log('test 8');\n\n      script.onload = () => {\n        const loadedGoogleModule = win.google;\n        if(loadedGoogleModule && loadedGoogleModule.maps) {\n          console.log('test 2');\n          resolve(loadedGoogleModule.maps);\n        } else {\n          console.log('test 1');\n          reject('Google maps SDK not available.');\n        }\n      };\n    });\n  }\n\n}\n","export default \".map {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  background-color: transparent;\\n  opacity: 0;\\n  transition: opacity 150ms ease-in;\\n}\\n\\n.map.visible {\\n  opacity: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC1tb2RhbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFFQSw2QkFBQTtFQUVBLFVBQUE7RUFDQSxpQ0FBQTtBQURGOztBQUlBO0VBQ0UsVUFBQTtBQURGIiwiZmlsZSI6Im1hcC1tb2RhbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXAge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG5cbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG5cbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAxNTBtcyBlYXNlLWluO1xufVxuXG4ubWFwLnZpc2libGUge1xuICBvcGFjaXR5OiAxO1xufVxuXG4iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>\\n      {{ title }}\\n    </ion-title>\\n    <ion-buttons slot=\\\"primary\\\">\\n    <ion-button (click)=\\\"onCancel()\\\">\\n      <ion-icon name=\\\"close-outline\\\" slot= \\\"icon-only\\\"></ion-icon>\\n    </ion-button>\\n  </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"map\\\" #map> </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}